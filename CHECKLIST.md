# –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ NextMessanger

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. **NextAuth debug mode** - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (–±—É–ª–æ `!==`, —Å—Ç–∞–ª–æ `===`)
   - –¢–µ–ø–µ—Ä debug –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ development —Ä–µ–∂–∏–º—ñ

## üìã –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (.env)

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏:

```env
DATABASE_URL="mongodb+srv://..."
NEXTAUTH_SECRET="..."
PUSHER_APP_ID="..."
NEXT_PUBLIC_PUSHER_APP_KEY="..."
PUSHER_SECRET="..."
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="..."
```

–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –≤ —Ñ–∞–π–ª—ñ `SETUP.md`

## üîß –ö—Ä–æ–∫–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É

1. ‚¨ú –°—Ç–≤–æ—Ä–∏—Ç–∏ `.env` —Ñ–∞–π–ª –∑ —É—Å—ñ–º–∞ –∑–º—ñ–Ω–Ω–∏–º–∏
2. ‚¨ú –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: `npm install`
3. ‚¨ú –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ Prisma –∫–ª—ñ—î–Ω—Ç: `npx prisma generate`
4. ‚¨ú –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –ë–î: `npx prisma db push`
5. ‚¨ú –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ç: `npm run dev`

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### –§–∞–π–ª–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- ‚úÖ `package.json` - –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–∏—Å—É—Ç–Ω—ñ
- ‚úÖ `prisma/schema.prisma` - MongoDB —Å—Ö–µ–º–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞
- ‚úÖ `next.config.mjs` - Cloudinary domains –¥–æ–¥–∞–Ω–æ
- ‚úÖ `middleware.js` - –∑–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤ `/chats/*`
- ‚úÖ `libe/pusher.js` - Pusher –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ (cluster: eu)
- ‚úÖ `libe/prismadb.js` - Prisma –∫–ª—ñ—î–Ω—Ç –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

### –°–µ—Ä–≤—ñ—Å–∏
- ‚úÖ **NextAuth** - –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ credentials
- ‚úÖ **Prisma + MongoDB** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- ‚úÖ **Pusher** - real-time messaging (cluster: eu)
- ‚úÖ **Cloudinary** - –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (preset: khil6cee)

## üêõ –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 1. MongoDB
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ IP –∞–¥—Ä–µ—Å–∞ –¥–æ–∑–≤–æ–ª–µ–Ω–∞ –≤ Network Access
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å connection string

### 2. Pusher
- –ö–ª–∞—Å—Ç–µ—Ä –º–∞—î –±—É—Ç–∏ `eu`
- –í—Å—ñ 3 –∫–ª—é—á—ñ (APP_ID, KEY, SECRET) –º–∞—é—Ç—å –±—É—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ

### 3. Cloudinary
- Upload preset `khil6cee` –º–∞—î —ñ—Å–Ω—É–≤–∞—Ç–∏
- –†–µ–∂–∏–º –º–∞—î –±—É—Ç–∏ "Unsigned"

### 4. NextAuth
- NEXTAUTH_SECRET –º–∞—î –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–º —Ä—è–¥–∫–æ–º
- –í production –¥–æ–¥–∞–π—Ç–µ NEXTAUTH_URL

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
NextMessanger/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îú‚îÄ‚îÄ api/auth/[...nextauth]/ - –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
‚îÇ       ‚îî‚îÄ‚îÄ chats/[chat]/ - —á–∞—Ç —Å—Ç–æ—Ä—ñ–Ω–∫–∏
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma - —Å—Ö–µ–º–∞ –ë–î
‚îú‚îÄ‚îÄ libe/
‚îÇ   ‚îú‚îÄ‚îÄ prismadb.js - Prisma –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ pucher.js - Pusher –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ actions/ - server actions
‚îú‚îÄ‚îÄ middleware.js - –∑–∞—Ö–∏—Å—Ç —Ä–æ—É—Ç—ñ–≤
‚îî‚îÄ‚îÄ .env - –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è (—Å—Ç–≤–æ—Ä–∏—Ç–∏!)
```

## üöÄ –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
1. –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ª–æ–≥—ñ–Ω—É –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ http://localhost:3000
2. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
3. –í—Ö—ñ–¥ –ø—Ä–∞—Ü—é—î
4. –ß–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è
5. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –≤ real-time
6. –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è
